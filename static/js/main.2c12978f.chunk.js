(this.webpackJsonpFbAPIConnect=this.webpackJsonpFbAPIConnect||[]).push([[0],{46:function(e,t,a){e.exports=a(76)},51:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),l=a.n(r),o=(a(51),a(6)),s=a(13),u=a(5),i=a(43),m=a(44),d=a(33),E=a(16),p=a(9),f=a.n(p),h=a(20),b=a(26),v=a(10),g=a(21),k=a(22),O=a(78),w=a(11),j=a.n(w);function y(e){var t=e.accessToken,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)(void 0),d=Object(o.a)(m,2),p=d[0],w=d[1],y=Object(n.useState)(!1),N=Object(o.a)(y,2),x=N[0],S=N[1],I=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.t0=w,e.next=4,A(l);case 4:e.t1=e.sent,(0,e.t0)(e.t1),i("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://graph.facebook.com/search?type=adinterest&q=[".concat(a,"]&limit=10000&locale=en_US&access_token=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:e.prev=7,e.t0=e.catch(0),S(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),F=p&&p.map((function(e){return[[{interests:[{id:e.id,name:e.name}]}],{name:e.name},{audience:e.audience_size}]})),C=F&&F.map((function(e){return[JSON.stringify(e[0]),e[1].name,e[2].audience]}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{className:"mt-3"},c.a.createElement(u.a,{xs:"8"},c.a.createElement(v.a,{onSubmit:I},c.a.createElement(v.a.Row,{className:"align-items-center"},c.a.createElement(u.a,{xs:"auto"},c.a.createElement(v.a.Label,{srOnly:!0},"Ad Interest"),c.a.createElement(v.a.Control,{className:"mb-2",type:"text",placeholder:"Ad Interest",name:"interest",value:l,onChange:function(e){i(e.target.value)}})),c.a.createElement(u.a,{xs:"auto"},c.a.createElement(g.a,{disabled:!l.length,type:"submit",className:"mb-2"},"Get Data")),c.a.createElement(u.a,{xs:"auto"},c.a.createElement(g.a,{variant:"danger",className:"mb-2",onClick:function(){S(!1),w(void 0)}},"Clear"))))),p&&!p.length&&c.a.createElement(u.a,null,c.a.createElement("h4",null,c.a.createElement(E.a,{variant:"danger"},"No Results")))),c.a.createElement(s.a,null,c.a.createElement(u.a,null,p&&c.a.createElement(b.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"ID/Name"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Audience"))),c.a.createElement("tbody",null,C&&C.map((function(e){return c.a.createElement("tr",{key:Object(O.a)()},c.a.createElement("td",null,e[0]),c.a.createElement("td",null,e[1]),c.a.createElement("td",null,e[2]))})))))),x&&c.a.createElement(k.a,{variant:"danger",onClose:function(){return S(!1)},dismissible:!0},c.a.createElement(k.a.Heading,null,"Oh snap!"),t?c.a.createElement("p",null,"Please verify your input or refresh the application"):c.a.createElement("p",null,"Please authenticate with your Facebook account to continue")))}function N(e){var t=e.accessToken,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)(void 0),d=Object(o.a)(m,2),p=d[0],w=d[1],y=Object(n.useState)(void 0),N=Object(o.a)(y,2),x=N[0],S=N[1],I=Object(n.useState)(void 0),A=Object(o.a)(I,2),F=A[0],C=A[1],B=Object(n.useState)(void 0),_=Object(o.a)(B,2),D=_[0],P=_[1],T=Object(n.useState)(!1),R=Object(o.a)(T,2),H=R[0],L=R[1],J=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),z(l),i("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(h.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.all([j.a.get("https://graph.facebook.com/v8.0/".concat(a,"/adimages?fields=name,id,hash&limit=1000&access_token=").concat(t)),j.a.get("https://graph.facebook.com/v8.0/".concat(a,"/?fields=name&access_token=").concat(t))]).then(j.a.spread((function(e,t){w(e.data.data),S(t.data.name)})));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),L(!0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&j.a.get("https://graph.facebook.com/v8.0/me?fields=businesses&access_token=".concat(t)).then((function(e){C(e.data.businesses.data[0].id)})).catch((function(){L(!0)}))}),[t]),Object(n.useEffect)((function(){F&&j.a.get("https://graph.facebook.com/v8.0/".concat(F,"/owned_ad_accounts?fields=name&limit=500&access_token=").concat(t)).then((function(e){P(e.data.data.sort((function(e,t){return e.id>t.id?1:-1})))})).catch((function(){L(!0)}))}),[F,t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{className:"mt-3"},c.a.createElement(u.a,{xs:"8"},c.a.createElement(v.a,{onSubmit:J},c.a.createElement(v.a.Row,{className:"align-items-center"},c.a.createElement(u.a,{xs:"4"},c.a.createElement(v.a.Label,{srOnly:!0},"Ad Interest"),c.a.createElement(v.a.Control,{className:"mb-2",as:"select",placeholder:"Ad Account ID",name:"accountID",value:l,onChange:function(e){i(e.target.value)}},c.a.createElement("option",{hidden:!0},"Select Ad Account"),D&&D.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)})))),c.a.createElement(u.a,{xs:"auto"},c.a.createElement(g.a,{disabled:!l.length,type:"submit",className:"mb-2"},"Get Data")),c.a.createElement(u.a,{xs:"auto"},c.a.createElement(g.a,{variant:"danger",className:"mb-2",onClick:function(){L(!1),w(void 0)}},"Clear"))))),p&&!p.length&&c.a.createElement(u.a,null,c.a.createElement("h4",null,c.a.createElement(E.a,{variant:"danger"},"No Results")))),c.a.createElement(s.a,null,c.a.createElement(u.a,null,p&&c.a.createElement(b.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{colSpan:"3"},x)),c.a.createElement("tr",null,c.a.createElement("th",null,"Image Name"),c.a.createElement("th",null,"Hash"),c.a.createElement("th",null,"ID (Account + Hash)"))),c.a.createElement("tbody",null,p.map((function(e){return c.a.createElement("tr",{key:Object(O.a)()},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.hash),c.a.createElement("td",null,e.id))})))))),H&&c.a.createElement(k.a,{variant:"danger",onClose:function(){return L(!1)},dismissible:!0},c.a.createElement(k.a.Heading,null,"Oh snap!"),t?c.a.createElement("p",null,"Please confirm that you entered a valid Ad Account ID, refresh the application or contact the developer."):c.a.createElement("p",null,"Please authenticate with your Facebook account to continue")))}function x(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),p=Object(o.a)(l,2),f=p[0],h=p[1];return Object(n.useEffect)((function(){window.fbAsyncInit=function(){window.FB.init({appId:"1045150769237017",cookie:!0,xfbml:!0,version:"v8.0"}),window.FB.AppEvents.logPageView(),window.FB.getLoginStatus((function(e){"connected"!==e.status?(r(!0),window.FB.XFBML.parse()):(r(!1),h(e.authResponse.accessToken))}))},function(e,t,a){var n,c=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://connect.facebook.net/en_US/sdk.js",c.parentNode.insertBefore(n,c))}(document,"script","facebook-jssdk")}),[]),c.a.createElement(i.a,{fluid:!0,className:"mt-3"},c.a.createElement(s.a,null,c.a.createElement(u.a,{xs:{span:4,offset:8}},a?c.a.createElement("div",{className:"fb-login-button","data-size":"medium","data-button-type":"login_with","data-layout":"rounded","data-auto-logout-link":"false","data-use-continue-as":"false","data-width":""}):c.a.createElement(E.a,{variant:"success"},"Connected to FB"))),c.a.createElement(m.a,{transition:!1},c.a.createElement(d.a,{eventKey:"interests",title:"Interest Finder"},c.a.createElement(y,{accessToken:f})),c.a.createElement(d.a,{eventKey:"images",title:"Image Finder"},c.a.createElement(N,{accessToken:f}))))}a(74),a(75);var S=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.2c12978f.chunk.js.map